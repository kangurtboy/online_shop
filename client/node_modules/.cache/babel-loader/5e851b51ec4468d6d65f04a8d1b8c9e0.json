{"ast":null,"code":"import axios from 'axios';\nconst guestInstance = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true\n});\nconst authInstance = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true\n}); // добавляем в запрос данные для авторизации с помощью перехватчика (interceptor)\n\nconst authInterceptor = config => {\n  const token = localStorage.getItem('token');\n\n  if (token) {\n    config.headers.authorization = 'Bearer ' + localStorage.getItem('token');\n  }\n\n  return config;\n};\n\nauthInstance.interceptors.request.use(authInterceptor);\nexport { guestInstance, authInstance };","map":{"version":3,"sources":["D:/RaDaR/React/online/shop/client.v1/src/http/index.js"],"names":["axios","guestInstance","create","baseURL","process","env","REACT_APP_API_URL","withCredentials","authInstance","authInterceptor","config","token","localStorage","getItem","headers","authorization","interceptors","request","use"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,aAAa,GAAGD,KAAK,CAACE,MAAN,CAAa;AAC/BC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,iBADU;AAE/BC,EAAAA,eAAe,EAAE;AAFc,CAAb,CAAtB;AAKA,MAAMC,YAAY,GAAGR,KAAK,CAACE,MAAN,CAAa;AAC9BC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,iBADS;AAE9BC,EAAAA,eAAe,EAAE;AAFa,CAAb,CAArB,C,CAKA;;AACA,MAAME,eAAe,GAAIC,MAAD,IAAY;AAChC,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,MAAIF,KAAJ,EAAW;AACPD,IAAAA,MAAM,CAACI,OAAP,CAAeC,aAAf,GAA+B,YAAYH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA3C;AACH;;AACD,SAAOH,MAAP;AACH,CAND;;AAOAF,YAAY,CAACQ,YAAb,CAA0BC,OAA1B,CAAkCC,GAAlC,CAAsCT,eAAtC;AAEA,SACIR,aADJ,EAEIO,YAFJ","sourcesContent":["import axios from 'axios'\r\n\r\nconst guestInstance = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL,\r\n    withCredentials: true\r\n})\r\n\r\nconst authInstance = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL,\r\n    withCredentials: true\r\n})\r\n\r\n// добавляем в запрос данные для авторизации с помощью перехватчика (interceptor)\r\nconst authInterceptor = (config) => {\r\n    const token = localStorage.getItem('token')\r\n    if (token) {\r\n        config.headers.authorization = 'Bearer ' + localStorage.getItem('token')\r\n    }\r\n    return config\r\n}\r\nauthInstance.interceptors.request.use(authInterceptor)\r\n\r\nexport {\r\n    guestInstance,\r\n    authInstance\r\n}"]},"metadata":{},"sourceType":"module"}