{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kangu\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\online_shop\\\\client\\\\src\\\\components\\\\PriceSlider\\\\PriceSlider.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport ReactSlider from 'react-slider';\nimport { AppContext } from '../AppContext';\nimport './slider.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction PriceSlider(_ref) {\n  _s();\n\n  let {\n    maxPrice\n  } = _ref;\n  const [min, setMin] = useState(0);\n  const [max, setMax] = useState(maxPrice);\n  const {\n    catalog\n  } = useContext(AppContext);\n\n  const handlePriceChange = value => {\n    setMin(parseInt(value[0]));\n    setMax(parseInt(value[1]));\n  };\n\n  useEffect(() => {\n    catalog.minPrice = Number(min);\n    catalog.maxPrice = Number(max);\n  }, [max, min]);\n\n  const handleChange = (e, name) => {\n    const inputValue = e.target.value.replace(/\\D/g, '');\n    console.log(inputValue);\n\n    if (/^\\d*$/.test(inputValue) && inputValue <= maxPrice) {\n      if (name === 'min') {\n        setMin(Nume.target.value);\n      } else {\n        setMax(e.target.value);\n      }\n    } else if (inputValue > maxPrice) {\n      setMax(maxPrice);\n    }\n  };\n\n  const handlePaste = event => {\n    const pastedValue = event.clipboardData.getData('text');\n\n    if (!/^\\d*$/.test(pastedValue) || parseInt(pastedValue) > maxPrice) {\n      event.preventDefault();\n    }\n  };\n\n  const handleKeyDown = event => {\n    if (event.keyCode === 69 || event.keyCode === 189 && event.target.length === 0 || event.key === '.' || event.key === ',') {\n      event.preventDefault();\n    }\n  };\n\n  console.log(typeof min);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n      children: \"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"prices\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prices_container\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"prices_inp\",\n          type: \"number\",\n          value: min,\n          onKeyDown: handleKeyDown,\n          onPaste: handlePaste,\n          onChange: e => handleChange(e, 'min')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prices_container\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"prices_inp\",\n          type: \"number\",\n          value: max,\n          onKeyDown: handleKeyDown,\n          onPaste: handlePaste,\n          onChange: e => handleChange(e, 'max')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactSlider, {\n      min: !isNaN(min) ? 0 : 0,\n      max: !isNaN(max) ? maxPrice : 0,\n      className: \"horizontal-slider\",\n      thumbClassName: \"example-thumb\",\n      trackClassName: \"example-track\",\n      value: [min, max],\n      onChange: handlePriceChange,\n      ariaLabel: ['Lower thumb', 'Upper thumb'],\n      ariaValuetext: state => `Thumb value ${state.valueNow}`,\n      renderThumb: (props, state) => /*#__PURE__*/_jsxDEV(\"div\", { ...props,\n        children: `${state.valueNow.toLocaleString('ru-RU')}\\u00A0тг.`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(PriceSlider, \"tmZUbgm5JeARJudeLEdaLolw4QY=\");\n\n_c = PriceSlider;\nexport default PriceSlider;\n\nvar _c;\n\n$RefreshReg$(_c, \"PriceSlider\");","map":{"version":3,"sources":["C:/Users/kangu/OneDrive/Рабочий стол/online_shop/client/src/components/PriceSlider/PriceSlider.jsx"],"names":["React","useContext","useEffect","useState","ReactSlider","AppContext","PriceSlider","maxPrice","min","setMin","max","setMax","catalog","handlePriceChange","value","parseInt","minPrice","Number","handleChange","e","name","inputValue","target","replace","console","log","test","Nume","handlePaste","event","pastedValue","clipboardData","getData","preventDefault","handleKeyDown","keyCode","length","key","isNaN","state","valueNow","props","toLocaleString"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport ReactSlider from 'react-slider';\r\nimport { AppContext } from '../AppContext';\r\nimport './slider.css';\r\n\r\nfunction PriceSlider({ maxPrice }) {\r\n  const [min, setMin] = useState(0);\r\n  const [max, setMax] = useState(maxPrice);\r\n  const {catalog} = useContext(AppContext);\r\n\r\n  const handlePriceChange = (value) => {\r\n    setMin(parseInt(value[0]));\r\n    setMax(parseInt(value[1]));\r\n\r\n\r\n  };\r\nuseEffect(()=>{\r\n\tcatalog.minPrice = Number(min);\r\n\tcatalog.maxPrice = Number(max);\r\n} , [max , min])\r\n  const handleChange = (e, name) => {\r\n    const inputValue = e.target.value.replace(/\\D/g, '');\r\n\tconsole.log(inputValue);\r\n\r\n    if (/^\\d*$/.test(inputValue) && inputValue <= maxPrice) {\r\n      if (name === 'min') {\r\n        setMin(Nume.target.value);\r\n      } else {\r\n        setMax(e.target.value);\r\n      }\r\n    } else if (inputValue > maxPrice) {\r\n      setMax(maxPrice);\r\n    }\r\n  };\r\n\r\n  const handlePaste = (event) => {\r\n    const pastedValue = event.clipboardData.getData('text');\r\n    if (!/^\\d*$/.test(pastedValue) || parseInt(pastedValue) > maxPrice) {\r\n      event.preventDefault();\r\n    }\r\n\r\n  };\r\n\r\n  const handleKeyDown = (event) => {\r\n    if (\r\n      event.keyCode === 69 ||\r\n      (event.keyCode === 189 && event.target.length === 0) ||\r\n      event.key === '.' ||\r\n      event.key === ','\r\n    ) {\r\n      event.preventDefault();\r\n    }\r\n  };\r\n\r\nconsole.log(typeof min);\r\n  return (\r\n    <>\r\n      <h6>Стоимость</h6>\r\n      <div className=\"prices\">\r\n        <div className=\"prices_container\">\r\n          <input\r\n            className=\"prices_inp\"\r\n            type=\"number\"\r\n            value={min}\r\n            onKeyDown={handleKeyDown}\r\n            onPaste={handlePaste}\r\n            onChange={(e) => handleChange(e, 'min')}\r\n          />\r\n        </div>\r\n        <div className=\"prices_container\">\r\n          <input\r\n            className=\"prices_inp\"\r\n            type=\"number\"\r\n            value={max}\r\n            onKeyDown={handleKeyDown}\r\n            onPaste={handlePaste}\r\n            onChange={(e) => handleChange(e, 'max')}\r\n          />\r\n        </div>\r\n      </div>\r\n      <ReactSlider\r\n        min={!isNaN(min) ? 0 : 0}\r\n        max={!isNaN(max) ? maxPrice : 0}\r\n        className=\"horizontal-slider\"\r\n        thumbClassName=\"example-thumb\"\r\n        trackClassName=\"example-track\"\r\n        value={[min, max]}\r\n        onChange={handlePriceChange}\r\n        ariaLabel={['Lower thumb', 'Upper thumb']}\r\n        ariaValuetext={(state) => `Thumb value ${state.valueNow}`}\r\n        renderThumb={(props, state) => (\r\n          <div {...props}>{`${state.valueNow.toLocaleString('ru-RU')}\\u00A0тг.`}</div>\r\n        )}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PriceSlider;\r\n"]},"metadata":{},"sourceType":"module"}