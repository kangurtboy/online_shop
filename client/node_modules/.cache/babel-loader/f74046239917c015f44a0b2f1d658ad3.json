{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kangu\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\full-online-shop\\\\client\\\\src\\\\components\\\\PriceSlider\\\\PriceSlider.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport ReactSlider from 'react-slider';\nimport { AppContext } from '../AppContext';\nimport { fetchAllProducts } from '../../http/catalogAPI';\nimport './slider.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction PriceSlider(_ref) {\n  _s();\n\n  let {\n    maxPrice\n  } = _ref;\n  const [min, setMin] = useState(0);\n  const [max, setMax] = useState(maxPrice);\n  const {\n    catalog\n  } = useContext(AppContext);\n  let {\n    products\n  } = catalog;\n\n  const handlePriceChange = value => {\n    setMin(parseInt(value[0]));\n    setMax(parseInt(value[1]));\n    catalog.priceRange = min;\n  };\n\n  const handleChange = (e, name) => {\n    const inputValue = e.target.value.replace(/\\D/g, '');\n\n    if (/^\\d*$/.test(inputValue) && inputValue <= maxPrice) {\n      if (name === 'min') {\n        setMin(e.target.value);\n      } else {\n        setMax(e.target.value);\n      }\n    } else if (inputValue > maxPrice) {\n      setMax(maxPrice);\n    }\n\n    catalog.minPrice = min;\n    catalog.maxPrice = max;\n  };\n\n  const handlePaste = event => {\n    const pastedValue = event.clipboardData.getData('text');\n\n    if (!/^\\d*$/.test(pastedValue) || parseInt(pastedValue) > maxPrice) {\n      event.preventDefault();\n    }\n\n    catalog.minPrice = min;\n    catalog.maxPrice = max;\n  };\n\n  const handleKeyDown = event => {\n    if (event.keyCode === 69 || event.keyCode === 189 && event.target.length === 0 || event.key === '.' || event.key === ',') {\n      event.preventDefault();\n    }\n\n    catalog.minPrice = min;\n    catalog.maxPrice = max;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n      children: \"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"prices\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prices_container\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"prices_inp\",\n          type: \"number\",\n          value: min,\n          onKeyDown: handleKeyDown,\n          onPaste: handlePaste,\n          onChange: e => handleChange(e, 'min')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prices_container\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"prices_inp\",\n          type: \"number\",\n          value: max,\n          onKeyDown: handleKeyDown,\n          onPaste: handlePaste,\n          onChange: e => handleChange(e, 'max')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactSlider, {\n      min: !isNaN(min) ? 0 : 0,\n      max: !isNaN(max) ? maxPrice : 0,\n      className: \"horizontal-slider\",\n      thumbClassName: \"example-thumb\",\n      trackClassName: \"example-track\",\n      value: [min, max],\n      onChange: handlePriceChange,\n      ariaLabel: ['Lower thumb', 'Upper thumb'],\n      ariaValuetext: state => `Thumb value ${state.valueNow}`,\n      renderThumb: (props, state) => /*#__PURE__*/_jsxDEV(\"div\", { ...props,\n        children: `${state.valueNow.toLocaleString('ru-RU')}\\u00A0тг.`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(PriceSlider, \"On7gKmRHgzjExI1xFoayEcNxjNk=\");\n\n_c = PriceSlider;\nexport default PriceSlider;\n\nvar _c;\n\n$RefreshReg$(_c, \"PriceSlider\");","map":{"version":3,"sources":["C:/Users/kangu/OneDrive/Рабочий стол/full-online-shop/client/src/components/PriceSlider/PriceSlider.jsx"],"names":["React","useContext","useState","ReactSlider","AppContext","fetchAllProducts","PriceSlider","maxPrice","min","setMin","max","setMax","catalog","products","handlePriceChange","value","parseInt","priceRange","handleChange","e","name","inputValue","target","replace","test","minPrice","handlePaste","event","pastedValue","clipboardData","getData","preventDefault","handleKeyDown","keyCode","length","key","isNaN","state","valueNow","props","toLocaleString"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport ReactSlider from 'react-slider';\r\nimport { AppContext } from '../AppContext';\r\nimport { fetchAllProducts } from '../../http/catalogAPI';\r\nimport './slider.css';\r\n\r\nfunction PriceSlider({ maxPrice }) {\r\n  const [min, setMin] = useState(0);\r\n  const [max, setMax] = useState(maxPrice);\r\n\r\n  const {catalog} = useContext(AppContext);\r\n  let {products} = catalog;\r\n  const handlePriceChange = (value) => {\r\n    setMin(parseInt(value[0]));\r\n    setMax(parseInt(value[1]));\r\n \tcatalog.priceRange = min;\r\n\r\n  };\r\n\r\n  const handleChange = (e, name) => {\r\n    const inputValue = e.target.value.replace(/\\D/g, '');\r\n\r\n    if (/^\\d*$/.test(inputValue) && inputValue <= maxPrice) {\r\n      if (name === 'min') {\r\n        setMin(e.target.value);\r\n      } else {\r\n        setMax(e.target.value);\r\n      }\r\n    } else if (inputValue > maxPrice) {\r\n      setMax(maxPrice);\r\n    }\r\n\tcatalog.minPrice = min;\r\n\tcatalog.maxPrice = max;\r\n  };\r\n\r\n  const handlePaste = (event) => {\r\n    const pastedValue = event.clipboardData.getData('text');\r\n    if (!/^\\d*$/.test(pastedValue) || parseInt(pastedValue) > maxPrice) {\r\n      event.preventDefault();\r\n    }\r\n\tcatalog.minPrice = min;\r\n\tcatalog.maxPrice = max;\r\n\r\n  };\r\n\r\n  const handleKeyDown = (event) => {\r\n    if (\r\n      event.keyCode === 69 ||\r\n      (event.keyCode === 189 && event.target.length === 0) ||\r\n      event.key === '.' ||\r\n      event.key === ','\r\n    ) {\r\n      event.preventDefault();\r\n    }\r\n\tcatalog.minPrice = min;\r\n\tcatalog.maxPrice = max;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h6>Стоимость</h6>\r\n      <div className=\"prices\">\r\n        <div className=\"prices_container\">\r\n          <input\r\n            className=\"prices_inp\"\r\n            type=\"number\"\r\n            value={min}\r\n            onKeyDown={handleKeyDown}\r\n            onPaste={handlePaste}\r\n            onChange={(e) => handleChange(e, 'min')}\r\n          />\r\n        </div>\r\n        <div className=\"prices_container\">\r\n          <input\r\n            className=\"prices_inp\"\r\n            type=\"number\"\r\n            value={max}\r\n            onKeyDown={handleKeyDown}\r\n            onPaste={handlePaste}\r\n            onChange={(e) => handleChange(e, 'max')}\r\n          />\r\n        </div>\r\n      </div>\r\n      <ReactSlider\r\n        min={!isNaN(min) ? 0 : 0}\r\n        max={!isNaN(max) ? maxPrice : 0}\r\n        className=\"horizontal-slider\"\r\n        thumbClassName=\"example-thumb\"\r\n        trackClassName=\"example-track\"\r\n        value={[min, max]}\r\n        onChange={handlePriceChange}\r\n        ariaLabel={['Lower thumb', 'Upper thumb']}\r\n        ariaValuetext={(state) => `Thumb value ${state.valueNow}`}\r\n        renderThumb={(props, state) => (\r\n          <div {...props}>{`${state.valueNow.toLocaleString('ru-RU')}\\u00A0тг.`}</div>\r\n        )}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PriceSlider;\r\n"]},"metadata":{},"sourceType":"module"}